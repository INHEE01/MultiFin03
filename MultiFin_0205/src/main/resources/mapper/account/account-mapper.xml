<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//KO" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.multi.multifin.account.model.mapper.AccountMapper">
	<!-- Account 테이블 -->
	<resultMap type="Account" id="AccountResultMap">
		<id property="aNum" column="ANUM" />
		<result property="account" column="ACCOUNT" />
		<result property="mNo" column="MNO" />
		<result property="totalAsset" column="TOTALASSET" />
		<result property="won" column="WON" />
		<result property="totalAcc" column="TOTALACC" />
		<result property="totalProfit" column="TOTALPROFIT" />
	</resultMap>
	
	<!-- 한 유저의 계좌번호 조회 -->
	<select id="selectAccountList" resultMap="AccountResultMap" parameterType="map">
		SELECT ANUM, A.ACCOUNT, MNO, TOTALASSET, WON, TOTALACC, TOTALPROFIT
		FROM ACCOUNT AS A
		WHERE A.MNO=#{MNO}
	</select>
	<!-- 계좌 번호 생성 후 테이블에 삽입 -->
	<insert id="insertAccount" parameterType="Account">
		INSERT INTO ACCOUNT(
			ANUM, A.ACCOUNT, MNO, 	
			TOTALASSET, WON, TOTALACC,
			TOTALPROFIT, ADDRESS
		) VALUES (
			 0, #{account}, #{mNo},
			 #{totalAsset}, #{won}, #{totalAcc},
			 #{totalProfit}
			 )
	</insert>
</mapper>